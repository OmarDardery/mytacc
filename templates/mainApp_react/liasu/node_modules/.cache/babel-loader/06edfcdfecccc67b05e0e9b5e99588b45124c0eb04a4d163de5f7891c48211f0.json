{"ast":null,"code":"import React,{useState}from'react';import validateEmail from'./functions/sendCode';import validateUser from'./functions/validateUser';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Form(props){let[confirmPassword,setConfirmPassword]=useState(\"\");async function handleSignUp(){if(props.password!==confirmPassword){props.setMessage(\"Passwords do not match\");props.notify();}else{if(props.password.length<8||props.password.length>15){props.setMessage(\"Password must be between 8 and 15 characters\");props.notify();}else if(props.username.length<8||props.username.length>15){props.setMessage(\"Username must be between 8 and 15 characters\");props.notify();}else{let response=await validateEmail(props.username,props.email);if(response.status===\"success\"){props.setAction(\"confirm\");}else{props.setMessage(String(response.error));props.notify();}}}}async function handleSignIn(){let response=await validateUser(props.username,props.password);if(response.status===\"success\"){window.location.href=\"/home\";}else{props.setMessage(response.error);props.notify();}}return/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:e=>{props.setUsername(e.target.value);},value:props.username,name:\"username\"})]}),props.action===\"signup\"?/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:e=>{props.setEmail(e.target.value);},value:props.email,name:\"email\",type:\"email\"})]}):/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:e=>{props.setPassword(e.target.value);},value:props.password,type:\"password\"})]}),props.action===\"signup\"?/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmPassword\",children:\"Confirm Password:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:e=>{setConfirmPassword(e.target.value);},value:confirmPassword,name:\"confirmPassword\",type:\"password\"})]}):/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(props.action===\"signup\"){handleSignUp();}else{handleSignIn();}},className:\"form-submit-button\",children:\"Submit\"})]});}export default Form;","map":{"version":3,"names":["React","useState","validateEmail","validateUser","jsx","_jsx","jsxs","_jsxs","Form","props","confirmPassword","setConfirmPassword","handleSignUp","password","setMessage","notify","length","username","response","email","status","setAction","String","error","handleSignIn","window","location","href","className","children","htmlFor","type","onChange","e","setUsername","target","value","name","action","setEmail","setPassword","onClick"],"sources":["C:/mytacc/templates/mainApp_react/liasu/src/component/form.jsx"],"sourcesContent":["import React, {useState} from 'react';\r\nimport validateEmail from './functions/sendCode';\r\nimport validateUser from './functions/validateUser';\r\n\r\n\r\nfunction Form(props) {\r\n    let [confirmPassword, setConfirmPassword] = useState(\"\");\r\n    async function handleSignUp () {\r\n        if(props.password !== confirmPassword) {\r\n            props.setMessage(\"Passwords do not match\");\r\n            props.notify();\r\n        }else{\r\n            if(props.password.length < 8 || props.password.length > 15) {\r\n                props.setMessage(\"Password must be between 8 and 15 characters\");\r\n                props.notify();\r\n            }else if (props.username.length < 8 || props.username.length > 15){\r\n                props.setMessage(\"Username must be between 8 and 15 characters\");\r\n                props.notify();\r\n            }else{\r\n                let response = await validateEmail(props.username, props.email);\r\n                if(response.status === \"success\") {\r\n                    props.setAction(\"confirm\");\r\n                }else{\r\n                    props.setMessage( String(response.error) );\r\n                    props.notify();\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n    async function handleSignIn() {\r\n        let response = await validateUser(props.username, props.password);\r\n        if(response.status === \"success\") {\r\n            window.location.href = \"/home\";\r\n        }else{\r\n            props.setMessage(response.error);\r\n            props.notify();\r\n        }\r\n    }\r\n    return (<div className={\"form\"}>\r\n        <div className={\"form-field\"}>\r\n            <label htmlFor=\"username\">Username:</label>\r\n            <input type=\"text\" onChange={(e)=>{\r\n                props.setUsername(e.target.value);\r\n            }} value={props.username} name=\"username\" />\r\n        </div>\r\n        {(props.action === \"signup\") ?\r\n            <div className={\"form-field\"}>\r\n                <label htmlFor=\"email\">Email:</label>\r\n                <input onChange={(e)=>{\r\n                props.setEmail(e.target.value);\r\n            }} value={props.email} name={\"email\"} type=\"email\" />\r\n            </div>\r\n            : <div></div>}\r\n        <div className={\"form-field\"}>\r\n            <label htmlFor=\"password\">Password:</label>\r\n            <input onChange={(e)=>{\r\n                props.setPassword(e.target.value);\r\n            }} value={props.password} type=\"password\" />\r\n        </div>\r\n        {(props.action === \"signup\") ?\r\n            <div className={\"form-field\"}>\r\n                <label htmlFor=\"confirmPassword\">Confirm Password:</label>\r\n                <input onChange={(e)=>{\r\n                setConfirmPassword(e.target.value);\r\n            }} value={confirmPassword} name={\"confirmPassword\"} type=\"password\" />\r\n            </div>\r\n            : <div></div>}\r\n        <button onClick={()=>{\r\n            if(props.action === \"signup\") {\r\n                handleSignUp();\r\n            }else {\r\n                handleSignIn();\r\n            }\r\n        }} className={\"form-submit-button\"}>Submit</button>\r\n    </div>);\r\n}\r\n\r\nexport default Form;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,KAAO,OAAO,CACrC,MAAO,CAAAC,aAAa,KAAM,sBAAsB,CAChD,MAAO,CAAAC,YAAY,KAAM,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAGpD,QAAS,CAAAC,IAAIA,CAACC,KAAK,CAAE,CACjB,GAAI,CAACC,eAAe,CAAEC,kBAAkB,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CACxD,cAAe,CAAAW,YAAYA,CAAA,CAAI,CAC3B,GAAGH,KAAK,CAACI,QAAQ,GAAKH,eAAe,CAAE,CACnCD,KAAK,CAACK,UAAU,CAAC,wBAAwB,CAAC,CAC1CL,KAAK,CAACM,MAAM,CAAC,CAAC,CAClB,CAAC,IAAI,CACD,GAAGN,KAAK,CAACI,QAAQ,CAACG,MAAM,CAAG,CAAC,EAAIP,KAAK,CAACI,QAAQ,CAACG,MAAM,CAAG,EAAE,CAAE,CACxDP,KAAK,CAACK,UAAU,CAAC,8CAA8C,CAAC,CAChEL,KAAK,CAACM,MAAM,CAAC,CAAC,CAClB,CAAC,IAAK,IAAIN,KAAK,CAACQ,QAAQ,CAACD,MAAM,CAAG,CAAC,EAAIP,KAAK,CAACQ,QAAQ,CAACD,MAAM,CAAG,EAAE,CAAC,CAC9DP,KAAK,CAACK,UAAU,CAAC,8CAA8C,CAAC,CAChEL,KAAK,CAACM,MAAM,CAAC,CAAC,CAClB,CAAC,IAAI,CACD,GAAI,CAAAG,QAAQ,CAAG,KAAM,CAAAhB,aAAa,CAACO,KAAK,CAACQ,QAAQ,CAAER,KAAK,CAACU,KAAK,CAAC,CAC/D,GAAGD,QAAQ,CAACE,MAAM,GAAK,SAAS,CAAE,CAC9BX,KAAK,CAACY,SAAS,CAAC,SAAS,CAAC,CAC9B,CAAC,IAAI,CACDZ,KAAK,CAACK,UAAU,CAAEQ,MAAM,CAACJ,QAAQ,CAACK,KAAK,CAAE,CAAC,CAC1Cd,KAAK,CAACM,MAAM,CAAC,CAAC,CAClB,CAEJ,CACJ,CACJ,CACA,cAAe,CAAAS,YAAYA,CAAA,CAAG,CAC1B,GAAI,CAAAN,QAAQ,CAAG,KAAM,CAAAf,YAAY,CAACM,KAAK,CAACQ,QAAQ,CAAER,KAAK,CAACI,QAAQ,CAAC,CACjE,GAAGK,QAAQ,CAACE,MAAM,GAAK,SAAS,CAAE,CAC9BK,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,OAAO,CAClC,CAAC,IAAI,CACDlB,KAAK,CAACK,UAAU,CAACI,QAAQ,CAACK,KAAK,CAAC,CAChCd,KAAK,CAACM,MAAM,CAAC,CAAC,CAClB,CACJ,CACA,mBAAQR,KAAA,QAAKqB,SAAS,CAAE,MAAO,CAAAC,QAAA,eAC3BtB,KAAA,QAAKqB,SAAS,CAAE,YAAa,CAAAC,QAAA,eACzBxB,IAAA,UAAOyB,OAAO,CAAC,UAAU,CAAAD,QAAA,CAAC,WAAS,CAAO,CAAC,cAC3CxB,IAAA,UAAO0B,IAAI,CAAC,MAAM,CAACC,QAAQ,CAAGC,CAAC,EAAG,CAC9BxB,KAAK,CAACyB,WAAW,CAACD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CACrC,CAAE,CAACA,KAAK,CAAE3B,KAAK,CAACQ,QAAS,CAACoB,IAAI,CAAC,UAAU,CAAE,CAAC,EAC3C,CAAC,CACJ5B,KAAK,CAAC6B,MAAM,GAAK,QAAQ,cACvB/B,KAAA,QAAKqB,SAAS,CAAE,YAAa,CAAAC,QAAA,eACzBxB,IAAA,UAAOyB,OAAO,CAAC,OAAO,CAAAD,QAAA,CAAC,QAAM,CAAO,CAAC,cACrCxB,IAAA,UAAO2B,QAAQ,CAAGC,CAAC,EAAG,CACtBxB,KAAK,CAAC8B,QAAQ,CAACN,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAClC,CAAE,CAACA,KAAK,CAAE3B,KAAK,CAACU,KAAM,CAACkB,IAAI,CAAE,OAAQ,CAACN,IAAI,CAAC,OAAO,CAAE,CAAC,EAChD,CAAC,cACJ1B,IAAA,SAAU,CAAC,cACjBE,KAAA,QAAKqB,SAAS,CAAE,YAAa,CAAAC,QAAA,eACzBxB,IAAA,UAAOyB,OAAO,CAAC,UAAU,CAAAD,QAAA,CAAC,WAAS,CAAO,CAAC,cAC3CxB,IAAA,UAAO2B,QAAQ,CAAGC,CAAC,EAAG,CAClBxB,KAAK,CAAC+B,WAAW,CAACP,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CACrC,CAAE,CAACA,KAAK,CAAE3B,KAAK,CAACI,QAAS,CAACkB,IAAI,CAAC,UAAU,CAAE,CAAC,EAC3C,CAAC,CACJtB,KAAK,CAAC6B,MAAM,GAAK,QAAQ,cACvB/B,KAAA,QAAKqB,SAAS,CAAE,YAAa,CAAAC,QAAA,eACzBxB,IAAA,UAAOyB,OAAO,CAAC,iBAAiB,CAAAD,QAAA,CAAC,mBAAiB,CAAO,CAAC,cAC1DxB,IAAA,UAAO2B,QAAQ,CAAGC,CAAC,EAAG,CACtBtB,kBAAkB,CAACsB,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CACtC,CAAE,CAACA,KAAK,CAAE1B,eAAgB,CAAC2B,IAAI,CAAE,iBAAkB,CAACN,IAAI,CAAC,UAAU,CAAE,CAAC,EACjE,CAAC,cACJ1B,IAAA,SAAU,CAAC,cACjBA,IAAA,WAAQoC,OAAO,CAAEA,CAAA,GAAI,CACjB,GAAGhC,KAAK,CAAC6B,MAAM,GAAK,QAAQ,CAAE,CAC1B1B,YAAY,CAAC,CAAC,CAClB,CAAC,IAAK,CACFY,YAAY,CAAC,CAAC,CAClB,CACJ,CAAE,CAACI,SAAS,CAAE,oBAAqB,CAAAC,QAAA,CAAC,QAAM,CAAQ,CAAC,EAClD,CAAC,CACV,CAEA,cAAe,CAAArB,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}